% input1(element(catalog,[],[element(cd,[],[element(title,[],[text('Empire Burlesque')]),element(artist,[],[text('Bob Dylan')]),element(country,[],[text('USA')]),element(company,[],[text('Columbia')]),element(price,[],[text('10.90')]),element(year,[],[text('1985')])]),element(cd,[],[element(title,[],[text('Hide your heart')]),element(artist,[],[text('Bonnie Tyler')]),element(country,[],[text('UK')]),element(company,[],[text('CBS Records')]),element(price,[],[text('9.90')]),element(year,[],[text('1988')])]),element(cd,[],[element(title,[],[text('Greatest Hits')]),element(artist,[],[text('Dolly Parton')]),element(country,[],[text('USA')]),element(company,[],[text('RCA')]),element(price,[],[text('9.90')]),element(year,[],[text('1982')])]),element(cd,[],[element(title,[],[text('Still got the blues')]),element(artist,[],[text('Gary Moore')]),element(country,[],[text('UK')]),element(company,[],[text('Virgin records')]),element(price,[],[text('10.20')]),element(year,[],[text('1990')])]),element(cd,[],[element(title,[],[text('Eros')]),element(artist,[],[text('Eros Ramazzotti')]),element(country,[],[text('EU')]),element(company,[],[text('BMG')]),element(price,[],[text('9.90')]),element(year,[],[text('1997')])]),element(cd,[],[element(title,[],[text('One night only')]),element(artist,[],[text('Bee Gees')]),element(country,[],[text('UK')]),element(company,[],[text('Polydor')]),element(price,[],[text('10.90')]),element(year,[],[text('1998')])]),element(cd,[],[element(title,[],[text('Sylvias Mother')]),element(artist,[],[text('Dr.Hook')]),element(country,[],[text('UK')]),element(company,[],[text('CBS')]),element(price,[],[text('8.10')]),element(year,[],[text('1973')])]),element(cd,[],[element(title,[],[text('Maggie May')]),element(artist,[],[text('Rod Stewart')]),element(country,[],[text('UK')]),element(company,[],[text('Pickwick')]),element(price,[],[text('8.50')]),element(year,[],[text('1990')])]),element(cd,[],[element(title,[],[text('Romanza')]),element(artist,[],[text('Andrea Bocelli')]),element(country,[],[text('EU')]),element(company,[],[text('Polydor')]),element(price,[],[text('10.80')]),element(year,[],[text('1996')])]),element(cd,[],[element(title,[],[text('When a man loves a woman')]),element(artist,[],[text('Percy Sledge')]),element(country,[],[text('USA')]),element(company,[],[text('Atlantic')]),element(price,[],[text('8.70')]),element(year,[],[text('1987')])]),element(cd,[],[element(title,[],[text('Black angel')]),element(artist,[],[text('Savage Rose')]),element(country,[],[text('EU')]),element(company,[],[text('Mega')]),element(price,[],[text('10.90')]),element(year,[],[text('1995')])]),element(cd,[],[element(title,[],[text('1999 Grammy Nominees')]),element(artist,[],[text('Many')]),element(country,[],[text('USA')]),element(company,[],[text('Grammy')]),element(price,[],[text('10.20')]),element(year,[],[text('1999')])]),element(cd,[],[element(title,[],[text('For the good times')]),element(artist,[],[text('Kenny Rogers')]),element(country,[],[text('UK')]),element(company,[],[text('Mucik Master')]),element(price,[],[text('8.70')]),element(year,[],[text('1995')])]),element(cd,[],[element(title,[],[text('Big Willie style')]),element(artist,[],[text('Will Smith')]),element(country,[],[text('USA')]),element(company,[],[text('Columbia')]),element(price,[],[text('9.90')]),element(year,[],[text('1997')])]),element(cd,[],[element(title,[],[text('Tupelo Honey')]),element(artist,[],[text('Van Morrison')]),element(country,[],[text('UK')]),element(company,[],[text('Polydor')]),element(price,[],[text('8.20')]),element(year,[],[text('1971')])]),element(cd,[],[element(title,[],[text('Soulsville')]),element(artist,[],[text('Jorn Hoel')]),element(country,[],[text('Norway')]),element(company,[],[text('WEA')]),element(price,[],[text('7.90')]),element(year,[],[text('1996')])]),element(cd,[],[element(title,[],[text('The very best of')]),element(artist,[],[text('Cat Stevens')]),element(country,[],[text('UK')]),element(company,[],[text('Island')]),element(price,[],[text('8.90')]),element(year,[],[text('1990')])]),element(cd,[],[element(title,[],[text('Stop')]),element(artist,[],[text('Sam Brown')]),element(country,[],[text('UK')]),element(company,[],[text('A and M')]),element(price,[],[text('8.90')]),element(year,[],[text('1988')])]),element(cd,[],[element(title,[],[text('Bridge of Spies')]),element(artist,[],[text('T`Pau')]),element(country,[],[text('UK')]),element(company,[],[text('Siren')]),element(price,[],[text('7.90')]),element(year,[],[text('1987')])]),element(cd,[],[element(title,[],[text('Private Dancer')]),element(artist,[],[text('Tina Turner')]),element(country,[],[text('UK')]),element(company,[],[text('Capitol')]),element(price,[],[text('8.90')]),element(year,[],[text('1983')])]),element(cd,[],[element(title,[],[text('Midt om natten')]),element(artist,[],[text('Kim Larsen')]),element(country,[],[text('EU')]),element(company,[],[text('Medley')]),element(price,[],[text('7.80')]),element(year,[],[text('1983')])]),element(cd,[],[element(title,[],[text('Pavarotti Gala Concert')]),element(artist,[],[text('Luciano Pavarotti')]),element(country,[],[text('UK')]),element(company,[],[text('DECCA')]),element(price,[],[text('9.90')]),element(year,[],[text('1991')])]),element(cd,[],[element(title,[],[text('The dock of the bay')]),element(artist,[],[text('Otis Redding')]),element(country,[],[text('USA')]),element(company,[],[text('Stax Records')]),element(price,[],[text('7.90')]),element(year,[],[text('1968')])]),element(cd,[],[element(title,[],[text('Picture book')]),element(artist,[],[text('Simply Red')]),element(country,[],[text('EU')]),element(company,[],[text('Elektra')]),element(price,[],[text('7.20')]),element(year,[],[text('1985')])]),element(cd,[],[element(title,[],[text('Red')]),element(artist,[],[text('The Communards')]),element(country,[],[text('UK')]),element(company,[],[text('London')]),element(price,[],[text('7.80')]),element(year,[],[text('1987')])]),element(cd,[],[element(title,[],[text('Unchain my heart')]),element(artist,[],[text('Joe Cocker')]),element(country,[],[text('USA')]),element(company,[],[text('EMI')]),element(price,[],[text('8.20')]),element(year,[],[text('1987')])])])).


template(X,Res):-
	X=element(cd,_,_),
	transform(X^title#1,_TTitle),
	transform(X^artist#1,_TArtist),
	Res=[element(tr,[],[element(td,[],[text(_TTitle)]), element(td,[],[text(_TArtist)])])].


go(XIN,XOUT):-
 incoming(XIN),
 outgoing(XOUT),
 parse2(XIN,X),
 traverse(X,Res),
 Y=element(top,[],Res),
 parse2(XOUT,Y).

